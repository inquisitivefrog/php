
      
sre@cpp:~/laravel-feature-lab$ make up
docker compose -f docker-compose.yml up -d --build
[+] Building 0.4s (46/46) FINISHED                                                                                                                                                      
 => [internal] load local bake definitions                                                                                                                                         0.0s
 => => reading from stdin 1.03kB                                                                                                                                                   0.0s
 => [npm-builder internal] load build definition from Dockerfile                                                                                                                   0.0s
 => => transferring dockerfile: 3.10kB                                                                                                                                             0.0s
 => [npm-builder internal] load metadata for docker.io/library/php:8.3-fpm                                                                                                         0.1s
 => [npm-builder internal] load .dockerignore                                                                                                                                      0.0s
 => => transferring context: 93B                                                                                                                                                   0.0s
 => [npm-builder php-base 1/3] FROM docker.io/library/php:8.3-fpm@sha256:342bc51368fbc64ba9dfd4fa083a9d0b4000101b6c073d24350c9fbefd6e2a45                                          0.0s
 => [npm-builder internal] load build context                                                                                                                                      0.2s
 => => transferring context: 790.57kB                                                                                                                                              0.2s
 => [app internal] load build context                                                                                                                                              0.2s
 => => transferring context: 790.67kB                                                                                                                                              0.2s
 => CACHED [npm-builder app-build 6/6] RUN if [ "false" = "true" ]; then         echo "Debug mode enabled";         pecl install xdebug && docker-php-ext-enable xdebug;     fi    0.0s
 => CACHED [app php-base 2/3] RUN apt-get update && apt-get install -y --no-install-recommends     git     curl     unzip     libpq-dev     libicu-dev     libzip-dev     libpng-  0.0s
 => CACHED [app php-base 3/3] WORKDIR /var/www/html                                                                                                                                0.0s
 => CACHED [app php-extensions 1/4] RUN docker-php-ext-configure intl     && docker-php-ext-install intl                                                                           0.0s
 => CACHED [app php-extensions 2/4] RUN docker-php-ext-configure gd --with-freetype --with-jpeg --with-webp     && docker-php-ext-install gd                                       0.0s
 => CACHED [app php-extensions 3/4] RUN docker-php-ext-install     pdo_pgsql zip exif bcmath gmp pcntl opcache                                                                     0.0s
 => CACHED [app php-extensions 4/4] RUN pecl install redis xdebug     && docker-php-ext-enable redis xdebug                                                                        0.0s
 => CACHED [app node-deps 1/4] RUN curl -sL https://deb.nodesource.com/setup_20.x | bash -     && apt-get install -y --no-install-recommends nodejs     && npm install -g npm@lat  0.0s
 => CACHED [app node-deps 2/4] WORKDIR /var/www/html                                                                                                                               0.0s
 => CACHED [npm-builder node-deps 3/4] COPY src/package.json src/package-lock.json ./                                                                                              0.0s
 => CACHED [npm-builder node-deps 4/4] RUN npm install --silent --no-progress                                                                                                      0.0s
 => CACHED [app composer-deps 1/3] RUN curl -sS https://getcomposer.org/installer | php     && mv composer.phar /usr/local/bin/composer                                            0.0s
 => CACHED [npm-builder composer-deps 2/3] COPY src/composer.json src/composer.lock ./                                                                                             0.0s
 => CACHED [npm-builder composer-deps 3/3] RUN composer install     --no-scripts     --no-autoloader     --prefer-dist     --no-interaction                                        0.0s
 => CACHED [npm-builder app-build 1/6] COPY --from=composer-deps /var/www/html/vendor ./vendor                                                                                     0.0s
 => CACHED [npm-builder app-build 2/6] COPY --from=composer-deps /usr/local/bin/composer /usr/local/bin/composer                                                                   0.0s
 => CACHED [npm-builder app-build 3/6] COPY src/ ./                                                                                                                                0.0s
 => CACHED [npm-builder app-build 4/6] RUN npm run build --if-present                                                                                                              0.0s
 => CACHED [npm-builder app-build 5/6] RUN composer dump-autoload --optimize                                                                                                       0.0s
 => CACHED [app production 2/7] WORKDIR /var/www/html                                                                                                                              0.0s
 => CACHED [app node-deps 3/4] COPY src/package.json src/package-lock.json ./                                                                                                      0.0s
 => CACHED [app node-deps 4/4] RUN npm install --silent --no-progress                                                                                                              0.0s
 => CACHED [app composer-deps 2/3] COPY src/composer.json src/composer.lock ./                                                                                                     0.0s
 => CACHED [app composer-deps 3/3] RUN composer install     --no-scripts     --no-autoloader     --prefer-dist     --no-interaction                                                0.0s
 => CACHED [app app-build 1/6] COPY --from=composer-deps /var/www/html/vendor ./vendor                                                                                             0.0s
 => CACHED [app app-build 2/6] COPY --from=composer-deps /usr/local/bin/composer /usr/local/bin/composer                                                                           0.0s
 => CACHED [app app-build 3/6] COPY src/ ./                                                                                                                                        0.0s
 => CACHED [app app-build 4/6] RUN npm run build --if-present                                                                                                                      0.0s
 => CACHED [app app-build 5/6] RUN composer dump-autoload --optimize                                                                                                               0.0s
 => CACHED [app app-build 6/6] RUN if [ "false" = "true" ]; then         echo "Debug mode enabled";         pecl install xdebug && docker-php-ext-enable xdebug;     fi            0.0s
 => CACHED [app production 3/7] COPY --from=app-build /var/www/html /var/www/html                                                                                                  0.0s
 => CACHED [app production 4/7] RUN apt-get update && apt-get purge -y     g++ make pkg-config git autoconf libc-dev     && apt-get autoremove -y     && rm -rf /var/lib/apt/list  0.0s
 => CACHED [app production 5/7] RUN chown -R www-data:www-data /var/www/html     && chmod -R 755 /var/www/html                                                                     0.0s
 => CACHED [app production 6/7] COPY docker/php/entrypoint.sh /usr/local/bin/entrypoint.sh                                                                                         0.0s
 => CACHED [app production 7/7] RUN chmod +x /usr/local/bin/entrypoint.sh                                                                                                          0.0s
 => [app] exporting to image                                                                                                                                                       0.0s
 => => exporting layers                                                                                                                                                            0.0s
 => => writing image sha256:3b852ae819daaff0cdd7d920e02f60ea5630f0614e484c83b5b4a157e21d9c6c                                                                                       0.0s
 => => naming to docker.io/library/laravel-feature-app                                                                                                                             0.0s
 => [npm-builder] exporting to image                                                                                                                                               0.0s
 => => exporting layers                                                                                                                                                            0.0s
 => => writing image sha256:1f1e264e97ee57ffe98f5bb6ebe3207bf61fae983359d7cc65cf0b7494c9d481                                                                                       0.0s
 => => naming to docker.io/library/laravel-feature-npm                                                                                                                             0.0s
 => [app] resolving provenance for metadata file                                                                                                                                   0.0s
 => [npm-builder] resolving provenance for metadata file                                                                                                                           0.0s
[+] Running 6/6
 ✔ laravel-feature-app              Built                                                                                                                                          0.0s 
 ✔ laravel-feature-npm              Built                                                                                                                                          0.0s 
 ✔ Container laravel-feature-db     Running                                                                                                                                        0.0s 
 ✔ Container laravel-feature-app    Started                                                                                                                                        0.1s 
 ✔ Container laravel-feature-npm    Started                                                                                                                                        0.1s 
 ✔ Container laravel-feature-nginx  Started                                                                                                                                        0.1s 

